<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <title>Menus &mdash; Devise Documentation &mdash; </title>

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/devise-marketing.css">
    <link rel="stylesheet" type="text/css" href="/css/highlightjs/github.css">

    <script type="text/javascript" src="/js/lib/jquery.min.js"></script>
    <script type="text/javascript" src="/js/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/lib/modernizr-2.8.3.min.js"></script>
    <script type="text/javascript" src="/js/lib/highlight.pack.js"></script>
    <script type="text/javascript" src="/js/devise-documentation.js"></script>

</head>

<body id="documentation">
    <header>
        <div class="navbar navbar-fixed-top navbar-inverse">
            <div class="container navbar-inner">
                <a href="/"><img src="/imgs/devise-logo-mini.gif" width="140">
                <ul class="list-inline">
                    <li class="ml sp50"><a href="https://github.com/devisephp/cms" class="fg mid-gray important">GitHub</a></li>
                    <li><a href="/api">API</a></li>
                    <li><a href="/docs">Learn</a></li>
                    <li><a href="">Home</a></li>
                </ul>
            </div>
        </div>
    </header>

    <div id="documentation-sidebar-wrapper" class="hidden-sm hidden-xs">

            <ul id="documentation-sidebar">
                <li >
                    <a href="/docs">About Devise</a>
                    <ul>
                        <li><a href="/docs#what-is-it">What Is It?</a></li>
                        <li><a href="/docs#couple-of-demos">Couple of Demos</a></li>
                    </ul>
                </li>
                                <li>
                <a href="/docs/about-this-documentation/">About This Documentation</a>
                                            <ul>
                                                            <li><a href="/docs/about-this-documentation/#unique-functionality">Unique Functionality</a></li>
                                                            <li><a href="/docs/about-this-documentation/#achtung%21">Achtung!</a></li>
                                                            <li><a href="/docs/about-this-documentation/#beer%21">Beer!</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/installation/">Installation</a>
                                            <ul>
                                                            <li><a href="/docs/installation/#requirements">Requirements</a></li>
                                                            <li><a href="/docs/installation/#installing-through-the-browser">Installing through the browser</a></li>
                                                            <li><a href="/docs/installation/#installing-through-command-line">Installing through command line</a></li>
                                                            <li><a href="/docs/installation/#environmental-configuration">Environmental Configuration</a></li>
                                                            <li><a href="/docs/installation/#mail-and-additional-configuration">Mail and Additional Configuration</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/pages/">Pages</a>
                                            <ul>
                                                            <li><a href="/docs/pages/#pages-and-routing">Pages and Routing</a></li>
                                                            <li><a href="/docs/pages/#creating-new-pages">Creating New Pages</a></li>
                                                            <li><a href="/docs/pages/#managing-pages">Managing Pages</a></li>
                                                            <li><a href="/docs/pages/#understanding-page-versions">Understanding page versions</a></li>
                                                            <li><a href="/docs/pages/#sharing-an-unpublished-page-with-a-non-admin">Sharing An Unpublished Page With A Non-Admin</a></li>
                                                            <li><a href="/docs/pages/#working-with-the-calendar">Working with the Calendar</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/apis/">Apis</a>
                                            <ul>
                                                            <li><a href="/docs/apis/#api-basics">Api Basics</a></li>
                                                            <li><a href="/docs/apis/#creating-new-apis">Creating New Apis</a></li>
                                                            <li><a href="/docs/apis/#managing-apis">Managing Apis</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/templates/">Templates</a>
                                            <ul>
                                                            <li><a href="/docs/templates/#creating-new-templates">Creating New Templates</a></li>
                                                            <li><a href="/docs/templates/#introduction-to-blade-syntax">Introduction to Blade Syntax</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/fields/">Fields</a>
                                            <ul>
                                                            <li><a href="/docs/fields/#creating-your-first-editable-area">Creating Your First Editable Area</a></li>
                                                            <li><a href="/docs/fields/#simple-field">Simple Field</a></li>
                                                            <li><a href="/docs/fields/#grouping-fields">Grouping Fields</a></li>
                                                            <li><a href="/docs/fields/#collections-of-fields">Collections of Fields</a></li>
                                                            <li><a href="/docs/fields/#editing-models">Editing Models</a></li>
                                                            <li><a href="/docs/fields/#to-model-or-not-to-model">To Model Or Not To Model</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/field-types/">Field Types</a>
                                            <ul>
                                                            <li><a href="/docs/field-types/#audio">Audio</a></li>
                                                            <li><a href="/docs/field-types/#checkbox">Checkbox</a></li>
                                                            <li><a href="/docs/field-types/#checkbox-group">Checkbox Group</a></li>
                                                            <li><a href="/docs/field-types/#color">Color</a></li>
                                                            <li><a href="/docs/field-types/#date%2Ftime">Date/Time</a></li>
                                                            <li><a href="/docs/field-types/#file">File</a></li>
                                                            <li><a href="/docs/field-types/#hidden">Hidden</a></li>
                                                            <li><a href="/docs/field-types/#html">HTML</a></li>
                                                            <li><a href="/docs/field-types/#images">Images</a></li>
                                                            <li><a href="/docs/field-types/#link">Link</a></li>
                                                            <li><a href="/docs/field-types/#map">Map</a></li>
                                                            <li><a href="/docs/field-types/#select">Select</a></li>
                                                            <li><a href="/docs/field-types/#text">Text</a></li>
                                                            <li><a href="/docs/field-types/#textarea">Textarea</a></li>
                                                            <li><a href="/docs/field-types/#video">Video</a></li>
                                                            <li><a href="/docs/field-types/#wysiwyg">WYSIWYG</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/permissions/">Permissions</a>
                                            <ul>
                                                            <li><a href="/docs/permissions/#preloaded-permission-rules">Preloaded Permission Rules</a></li>
                                                            <li><a href="/docs/permissions/#implementing-in-templates">Implementing In Templates</a></li>
                                                            <li><a href="/docs/permissions/#implementing-on-pages">Implementing On Pages</a></li>
                                                            <li><a href="/docs/permissions/#implementing-in-routes">Implementing In Routes</a></li>
                                                            <li><a href="/docs/permissions/#creating-new-permission-rules">Creating New Permission Rules</a></li>
                                                            <li><a href="/docs/permissions/#creating-new-permission-conditions">Creating New Permission Conditions</a></li>
                                                    </ul>
                                    </li>
                                <li class="active">
                <a href="/docs/menus/">Menus</a>
                                            <ul>
                                                            <li class="active" ><a href="/docs/menus/#managing-menus">Managing Menus</a></li>
                                                            <li class="active" ><a href="/docs/menus/#implementing-menus">Implementing Menus</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/users-groups/">Users &amp; Groups</a>
                                            <ul>
                                                            <li><a href="/docs/users-groups/#building-a-philosophy-for-your-app">Building A Philosophy For Your App</a></li>
                                                            <li><a href="/docs/users-groups/#enabling-user-registration">Enabling User Registration</a></li>
                                                            <li><a href="/docs/users-groups/#password-recovery">Password Recovery</a></li>
                                                            <li><a href="/docs/users-groups/#managing-users">Managing Users</a></li>
                                                            <li><a href="/docs/users-groups/#managing-groups">Managing Groups</a></li>
                                                    </ul>
                                    </li>
                                <li>
                <a href="/docs/localization/">Localization</a>
                                            <ul>
                                                            <li><a href="/docs/localization/#enabling-a-new-language">Enabling A New Language</a></li>
                                                    </ul>
                                    </li>
                            </ul>

    </div>

    <div class="container">

        <div class="row">
            <div class="visible-sm visible-xs" id="collapsed-documentation-navigation">

                <ul>
                    <li >
                        <a href="/docs">About Devise</a>
                        <ul>
                            <li><a href="/docs#what-is-it">What Is It?</a></li>
                            <li><a href="/docs#couple-of-demos">Couple of Demos</a></li>
                        </ul>
                    </li>
                                        <li>
                    <a href="/docs/about-this-documentation/">About This Documentation</a>
                                                    <ul>
                                                                    <li><a href="/docs/about-this-documentation/#unique-functionality">Unique Functionality</a></li>
                                                                    <li><a href="/docs/about-this-documentation/#achtung%21">Achtung!</a></li>
                                                                    <li><a href="/docs/about-this-documentation/#beer%21">Beer!</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/installation/">Installation</a>
                                                    <ul>
                                                                    <li><a href="/docs/installation/#requirements">Requirements</a></li>
                                                                    <li><a href="/docs/installation/#installing-through-the-browser">Installing through the browser</a></li>
                                                                    <li><a href="/docs/installation/#installing-through-command-line">Installing through command line</a></li>
                                                                    <li><a href="/docs/installation/#environmental-configuration">Environmental Configuration</a></li>
                                                                    <li><a href="/docs/installation/#mail-and-additional-configuration">Mail and Additional Configuration</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/pages/">Pages</a>
                                                    <ul>
                                                                    <li><a href="/docs/pages/#pages-and-routing">Pages and Routing</a></li>
                                                                    <li><a href="/docs/pages/#creating-new-pages">Creating New Pages</a></li>
                                                                    <li><a href="/docs/pages/#managing-pages">Managing Pages</a></li>
                                                                    <li><a href="/docs/pages/#understanding-page-versions">Understanding page versions</a></li>
                                                                    <li><a href="/docs/pages/#sharing-an-unpublished-page-with-a-non-admin">Sharing An Unpublished Page With A Non-Admin</a></li>
                                                                    <li><a href="/docs/pages/#working-with-the-calendar">Working with the Calendar</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/apis/">Apis</a>
                                                    <ul>
                                                                    <li><a href="/docs/apis/#api-basics">Api Basics</a></li>
                                                                    <li><a href="/docs/apis/#creating-new-apis">Creating New Apis</a></li>
                                                                    <li><a href="/docs/apis/#managing-apis">Managing Apis</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/templates/">Templates</a>
                                                    <ul>
                                                                    <li><a href="/docs/templates/#creating-new-templates">Creating New Templates</a></li>
                                                                    <li><a href="/docs/templates/#introduction-to-blade-syntax">Introduction to Blade Syntax</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/fields/">Fields</a>
                                                    <ul>
                                                                    <li><a href="/docs/fields/#creating-your-first-editable-area">Creating Your First Editable Area</a></li>
                                                                    <li><a href="/docs/fields/#simple-field">Simple Field</a></li>
                                                                    <li><a href="/docs/fields/#grouping-fields">Grouping Fields</a></li>
                                                                    <li><a href="/docs/fields/#collections-of-fields">Collections of Fields</a></li>
                                                                    <li><a href="/docs/fields/#editing-models">Editing Models</a></li>
                                                                    <li><a href="/docs/fields/#to-model-or-not-to-model">To Model Or Not To Model</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/field-types/">Field Types</a>
                                                    <ul>
                                                                    <li><a href="/docs/field-types/#audio">Audio</a></li>
                                                                    <li><a href="/docs/field-types/#checkbox">Checkbox</a></li>
                                                                    <li><a href="/docs/field-types/#checkbox-group">Checkbox Group</a></li>
                                                                    <li><a href="/docs/field-types/#color">Color</a></li>
                                                                    <li><a href="/docs/field-types/#date%2Ftime">Date/Time</a></li>
                                                                    <li><a href="/docs/field-types/#file">File</a></li>
                                                                    <li><a href="/docs/field-types/#hidden">Hidden</a></li>
                                                                    <li><a href="/docs/field-types/#html">HTML</a></li>
                                                                    <li><a href="/docs/field-types/#images">Images</a></li>
                                                                    <li><a href="/docs/field-types/#link">Link</a></li>
                                                                    <li><a href="/docs/field-types/#map">Map</a></li>
                                                                    <li><a href="/docs/field-types/#select">Select</a></li>
                                                                    <li><a href="/docs/field-types/#text">Text</a></li>
                                                                    <li><a href="/docs/field-types/#textarea">Textarea</a></li>
                                                                    <li><a href="/docs/field-types/#video">Video</a></li>
                                                                    <li><a href="/docs/field-types/#wysiwyg">WYSIWYG</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/permissions/">Permissions</a>
                                                    <ul>
                                                                    <li><a href="/docs/permissions/#preloaded-permission-rules">Preloaded Permission Rules</a></li>
                                                                    <li><a href="/docs/permissions/#implementing-in-templates">Implementing In Templates</a></li>
                                                                    <li><a href="/docs/permissions/#implementing-on-pages">Implementing On Pages</a></li>
                                                                    <li><a href="/docs/permissions/#implementing-in-routes">Implementing In Routes</a></li>
                                                                    <li><a href="/docs/permissions/#creating-new-permission-rules">Creating New Permission Rules</a></li>
                                                                    <li><a href="/docs/permissions/#creating-new-permission-conditions">Creating New Permission Conditions</a></li>
                                                            </ul>
                                            </li>
                                        <li class="active">
                    <a href="/docs/menus/">Menus</a>
                                                    <ul>
                                                                    <li class="active" ><a href="/docs/menus/#managing-menus">Managing Menus</a></li>
                                                                    <li class="active" ><a href="/docs/menus/#implementing-menus">Implementing Menus</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/users-groups/">Users &amp; Groups</a>
                                                    <ul>
                                                                    <li><a href="/docs/users-groups/#building-a-philosophy-for-your-app">Building A Philosophy For Your App</a></li>
                                                                    <li><a href="/docs/users-groups/#enabling-user-registration">Enabling User Registration</a></li>
                                                                    <li><a href="/docs/users-groups/#password-recovery">Password Recovery</a></li>
                                                                    <li><a href="/docs/users-groups/#managing-users">Managing Users</a></li>
                                                                    <li><a href="/docs/users-groups/#managing-groups">Managing Groups</a></li>
                                                            </ul>
                                            </li>
                                        <li>
                    <a href="/docs/localization/">Localization</a>
                                                    <ul>
                                                                    <li><a href="/docs/localization/#enabling-a-new-language">Enabling A New Language</a></li>
                                                            </ul>
                                            </li>
                                    </ul>

            </div>
        </div>

        <div class="row mb sp25" id="difficulty-buttons">
            <div class="col-md-offset-6 col-md-6 tar">
                <button id="beginner-btn" class="btn difficulty" data-difficulty="beginner">Beginner</button>
                <button id="advanced-btn" class="btn difficulty" data-difficulty="advanced">Advanced</button>
                <button id="all-btn" class="btn difficulty" data-difficulty="all">All</button>
            </div>
        </div>

        <div class="row">

            <div class="col-md-8 col-md-offset-4" id="documentation-content">

                <div class="row">
                    <div class="col-md-10 col-md-offset-1 col-sm-10 col-sm-offset-1">

                        <h1 id="menus">Menus</h1>

<p>Menus in Devise are designed to accomodate issues the Devise Team typically have with our own projects. We wanted the ability to:</p>

<ol>
<li>Create as many "menus" as we needed.</li>
<li>Localize a menu and keep it in sync with the page easily.</li>
<li>Have an unlimited nesting capbility.</li>
<li>Easily loop through and write a menu in a logical way.</li>
<li>Quickly and easily link both internally and externally.</li>
</ol>

<p>With these items satisfied we use the menus system for more than just a top-level navigation. We use it for footer navigations, sitemaps, tabbed content, or any section that <em>feels</em> menuey that needs a resortable list of items that link to something (even if that something is just a named anchor).</p>

<h2 id="%3Ca-name%3D%22managing-menus%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23managing-menus%29managing-menus"><a name="managing-menus" class="ia"></a><a href="#managing-menus">#</a>Managing Menus</h2>

<p>Managing menus in Devise couldn't be easier. We set it up with your customers in mind so you should have very little problems using the interface to create and update your menus.</p>

<p>First, click on the "Menus" option on the navigation. Here you can create a new menu by providing a name and clicking the create button. Once inside your menu is created you can update it by specifying new menu items and dragging and dropping them to set their order of appearance.</p>

<p>There are two link modes for menu items: URLs and Pages. If "Page" is selected the last field will autocomplete and link itself to the page you select. This way, if that page's URL changes the menu will automatically adjust.</p>

<h2 id="%3Ca-name%3D%22implementing-menus%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23implementing-menus%29implementing-menus"><a name="implementing-menus" class="ia"></a><a href="#implementing-menus">#</a>Implementing Menus</h2>

<p>Implementing menus is simple even in more complex scenarios.</p>

<p>First, we need to add the menu variable to the template or layout that you want the menu to be available on. If the menu is something like a main menu you probably want to add it to your layout file so you don't have to add it to <em>every</em> template, right? But if it's a menu that only appears on one template then just add it to that single template. Here's how we do that:</p>

<ol>
<li>Head to Templates</li>
<li>Click edit on the template that we want to add a variable to</li>
<li>Click 'Add new variable'</li>
<li>Give it a variable name of whatever you want. For example: <code>mainNavigation</code> (no dollar sign needed sir/ma'am)</li>
<li>Give it a class path of <code>Devise\Menus\MenusRepository</code></li>
<li>Give it a method name of <code>buildMenu</code></li>
<li>Add a parameter: Change the type to 'Static Value' and set the value to the name of your menu.</li>
</ol>

<p>This is a snippet from the default administration template. It loops through each of the top tier menu items and then through each of their children.</p>

<pre><code class="php">
@foreach ($dvsAdminMenu as $menuGroup)
    &lt;h5&gt;{{ $menuGroup-&gt;name }}&lt;/h5&gt;
    &lt;ul class="dvs-admin-links"&gt;
        @foreach ($menuGroup-&gt;children as $link)
            &lt;li&gt;&lt;a class="{{ isActiveLink($link-&gt;url) }}" href="{{ $link-&gt;url }}"&gt;{{ $link-&gt;name }}&lt;/a&gt;&lt;/li&gt;
        @endforeach
    &lt;/ul&gt;
@endforeach

</code></pre>

<p>Here are the properties you have access to on menu items:</p>

<p>Label of the Menu Item.</p>

<pre><code class="php">
$menuGroup-&gt;name

</code></pre>

<p>URL of the Menu Item.</p>

<pre><code class="php">
$link-&gt;url

</code></pre>

<p>Returns true if the menu item has a child link that is currently the active link.</p>

<pre><code class="php">
$menuItem-&gt;activeAncestor

</code></pre>

<p>Returns true if the menu item is the currently active item.</p>

<pre><code class="php">
$menuItem-&gt;activeItem

</code></pre>

                    </div>
                </div>
            </div>
        </div>

        <div class="row">

            <div class="col-md-8 col-md-offset-4" id="documentation-pagination">

                <div class="row">

                    <div class="col-md-8 col-md-offset-2">
                                                    <nav class="article">
                                <ul class="list-unstyled">
                                                                            <li><a class="previous btn btn-info" href="/docs/permissions/" title="Permissions">&#8592; Permissions</a></li>
                                                                                                                <li><a class="next btn btn-info" href="/docs/users-groups/" title="Users &amp; Groups">Users &amp; Groups &#8594;</a></li>
                                                                    </ul>
                            </nav>
                                            </div>

                </div>

            </div>

        </div>

    </div>


    <footer class="tar">
        <div class="container open-sans tiny">
            <img class="mb sp8" src="/imgs/devise-logo-mini-black.gif" width="114" height="39" alt="Devise" />
            <p>Devise Logo and Devisephp.com<br>
               Copyright &copy 2015 <a href="http://lbm.co" class="strong" target="_blank">LBM</a><br><br>

               Devise content management system source code under <a href="http://opensource.org/licenses/MIT" target="_blank">MIT License</a>
            </p>
        </div>
    </footer>

    <script>hljs.initHighlightingOnLoad();</script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-59653511-1', 'auto');
      ga('send', 'pageview');

    </script>

</body>
</html>
